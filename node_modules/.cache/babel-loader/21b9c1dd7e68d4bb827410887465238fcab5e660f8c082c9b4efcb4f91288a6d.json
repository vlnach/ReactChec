{"ast":null,"code":"var _jsxFileName = \"/Users/vlad/Desktop/3f1c5ee3-ddb9-4b74-9cd2-76b781c996ab/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst N = 8; // размер доски 8x8\n\n// вспомогательные функции\nconst idx = (r, c) => r * N + c; // индекс в массиве по координатам\nconst rc = i => [Math.floor(i / N), i % N]; // координаты по индексу в массиве\nconst isDarkCell = (r, c) => (r + c) % 2 === 1; // черная клетка = могут стоять шашки, на белой нельзя\n\n// компоненты\n\nfunction Square({\n  value,\n  onSquareClick,\n  dark,\n  selected,\n  hint\n}) {\n  let className = \"square\";\n  if (dark) className += \" square--dark\";\n  if (selected) className += \" square--selected\";\n  if (hint) className += \" square--hint\";\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: className,\n    onClick: onSquareClick,\n    children: [value === \"dark\" ? \"●\" : value === \"light\" ? \"○\" : \"\", \" // \\u043E\\u0442\\u0440\\u0438\\u0441\\u043E\\u0432\\u043A\\u0430 \\u0441\\u0430\\u043C\\u043E\\u0439 \\u0448\\u0430\\u0448\\u043A\\u0438\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\n\n// вся доска\n_c = Square;\nfunction Board({\n  squares,\n  selected,\n  validMoves,\n  onSelect,\n  onMove\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [...Array(N)].map((_, r) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"board-row\",\n      children: [...Array(N)].map((_, c) => {\n        const i = idx(r, c); // индекс клетки в массиве\n        return /*#__PURE__*/_jsxDEV(Square, {\n          value: squares[i],\n          dark: isDarkCell(r, c),\n          selected: i === selected,\n          hint: validMoves.has(i),\n          onSquareClick: () => squares[i] ? onSelect(i) // клик по шашке → выбрать\n          : onMove(i) // клик по пустой клетке → ход\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 15\n        }, this);\n      })\n    }, r, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n}\n_c2 = Board;\nexport default function Game() {\n  _s();\n  const [history, setHistory] = useState([initBoard()]);\n  const [currentMove, setCurrentMove] = useState(0);\n  const [selected, setSelected] = useState(null);\n  const squares = history[currentMove];\n  const darkIsNext = currentMove % 2 === 0;\n  const player = darkIsNext ? \"dark\" : \"light\";\n  const validMoves = deriveValidMoves(squares, selected, player); // допустимые ходы для выделенной шашки - можем или не можем ходить\n\n  //  клик по своей шашке - выделяем или снимаем выделение\n  function handleSelect(i) {\n    if (squares[i] === player) {\n      setSelected(i);\n    } else {\n      setSelected(null);\n    }\n  }\n  function handleMove(i) {\n    if (selected != null && validMoves.has(i)) {\n      const next = squares.slice();\n      next[i] = squares[selected];\n      next[selected] = null;\n      const nextHistory = [...history.slice(0, currentMove + 1), next];\n      setHistory(nextHistory);\n      setCurrentMove(nextHistory.length - 1);\n      setSelected(null);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-board\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status\",\n        children: [\"Turn: \", player]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Board, {\n        squares: squares,\n        selected: selected,\n        validMoves: validMoves,\n        onSelect: handleSelect,\n        onMove: handleMove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_s(Game, \"D0b0AllAhRLkfFfVcrHzci4q1y8=\");\n_c3 = Game;\nfunction initBoard() {\n  const b = Array(N * N).fill(null);\n  for (let r = 0; r < 3; r++) {\n    for (let c = 0; c < N; c++) {\n      if (isDarkCell(r, c)) b[idx(r, c)] = \"dark\";\n    }\n  }\n  for (let r = N - 3; r < N; r++) {\n    for (let c = 0; c < N; c++) {\n      if (isDarkCell(r, c)) b[idx(r, c)] = \"light\";\n    }\n  }\n  return b;\n}\nfunction deriveValidMoves(board, selected, player) {\n  if (selected == null || board[selected] !== player) return new Set();\n  const [r, c] = rc(selected);\n  const dir = player === \"dark\" ? +1 : -1;\n  const moves = [];\n  for (const dc of [-1, +1]) {\n    const nr = r + dir;\n    const nc = c + dc;\n    if (nr >= 0 && nr < N && nc >= 0 && nc < N) {\n      const to = idx(nr, nc);\n      if (board[to] == null) moves.push(to);\n    }\n  }\n  return new Set(moves);\n}\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Square\");\n$RefreshReg$(_c2, \"Board\");\n$RefreshReg$(_c3, \"Game\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Fragment","_Fragment","N","idx","r","c","rc","i","Math","floor","isDarkCell","Square","value","onSquareClick","dark","selected","hint","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Board","squares","validMoves","onSelect","onMove","Array","map","_","has","_c2","Game","_s","history","setHistory","initBoard","currentMove","setCurrentMove","setSelected","darkIsNext","player","deriveValidMoves","handleSelect","handleMove","next","slice","nextHistory","length","_c3","b","fill","board","Set","dir","moves","dc","nr","nc","to","push","$RefreshReg$"],"sources":["/Users/vlad/Desktop/3f1c5ee3-ddb9-4b74-9cd2-76b781c996ab/src/App.js"],"sourcesContent":["import { useState } from \"react\";\n\nconst N = 8; // размер доски 8x8\n\n// вспомогательные функции\nconst idx = (r, c) => r * N + c; // индекс в массиве по координатам\nconst rc = (i) => [Math.floor(i / N), i % N]; // координаты по индексу в массиве\nconst isDarkCell = (r, c) => (r + c) % 2 === 1; // черная клетка = могут стоять шашки, на белой нельзя\n\n// компоненты\n\nfunction Square({ value, onSquareClick, dark, selected, hint }) {\n  let className = \"square\";\n  if (dark) className += \" square--dark\";\n  if (selected) className += \" square--selected\";\n  if (hint) className += \" square--hint\";\n\n  return (\n    <button className={className} onClick={onSquareClick}>\n      {value === \"dark\" ? \"●\" : value === \"light\" ? \"○\" : \"\"} // отрисовка самой\n      шашки\n    </button>\n  );\n}\n\n// вся доска\nfunction Board({ squares, selected, validMoves, onSelect, onMove }) {\n  return (\n    <>\n      {[...Array(N)].map((_, r) => (\n        <div className=\"board-row\" key={r}>\n          {[...Array(N)].map((_, c) => {\n            const i = idx(r, c); // индекс клетки в массиве\n            return (\n              <Square\n                key={i}\n                value={squares[i]}\n                dark={isDarkCell(r, c)}\n                selected={i === selected}\n                hint={validMoves.has(i)}\n                onSquareClick={\n                  () =>\n                    squares[i]\n                      ? onSelect(i) // клик по шашке → выбрать\n                      : onMove(i) // клик по пустой клетке → ход\n                }\n              />\n            );\n          })}\n        </div>\n      ))}\n    </>\n  );\n}\n\nexport default function Game() {\n  const [history, setHistory] = useState([initBoard()]);\n  const [currentMove, setCurrentMove] = useState(0);\n  const [selected, setSelected] = useState(null);\n\n  const squares = history[currentMove];\n  const darkIsNext = currentMove % 2 === 0;\n  const player = darkIsNext ? \"dark\" : \"light\";\n\n  const validMoves = deriveValidMoves(squares, selected, player); // допустимые ходы для выделенной шашки - можем или не можем ходить\n\n  //  клик по своей шашке - выделяем или снимаем выделение\n  function handleSelect(i) {\n    if (squares[i] === player) {\n      setSelected(i);\n    } else {\n      setSelected(null);\n    }\n  }\n\n  function handleMove(i) {\n    if (selected != null && validMoves.has(i)) {\n      const next = squares.slice();\n      next[i] = squares[selected];\n      next[selected] = null;\n      const nextHistory = [...history.slice(0, currentMove + 1), next];\n      setHistory(nextHistory);\n      setCurrentMove(nextHistory.length - 1);\n      setSelected(null);\n    }\n  }\n\n  return (\n    <div className=\"game\">\n      <div className=\"game-board\">\n        <div className=\"status\">Turn: {player}</div>\n        <Board\n          squares={squares}\n          selected={selected}\n          validMoves={validMoves}\n          onSelect={handleSelect}\n          onMove={handleMove}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction initBoard() {\n  const b = Array(N * N).fill(null);\n  for (let r = 0; r < 3; r++) {\n    for (let c = 0; c < N; c++) {\n      if (isDarkCell(r, c)) b[idx(r, c)] = \"dark\";\n    }\n  }\n  for (let r = N - 3; r < N; r++) {\n    for (let c = 0; c < N; c++) {\n      if (isDarkCell(r, c)) b[idx(r, c)] = \"light\";\n    }\n  }\n  return b;\n}\n\nfunction deriveValidMoves(board, selected, player) {\n  if (selected == null || board[selected] !== player) return new Set();\n  const [r, c] = rc(selected);\n  const dir = player === \"dark\" ? +1 : -1;\n  const moves = [];\n  for (const dc of [-1, +1]) {\n    const nr = r + dir;\n    const nc = c + dc;\n    if (nr >= 0 && nr < N && nc >= 0 && nc < N) {\n      const to = idx(nr, nc);\n      if (board[to] == null) moves.push(to);\n    }\n  }\n  return new Set(moves);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}